var egret=window.egret,__reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);i.prototype=t.prototype,e.prototype=new i},JSONParseClass=function(){function e(){this.skinClass={},this.euiNormalizeNames={$eBL:"eui.BitmapLabel",$eB:"eui.Button",$eCB:"eui.CheckBox",$eC:"eui.Component",$eDG:"eui.DataGroup",$eET:"eui.EditableText",$eG:"eui.Group",$eHL:"eui.HorizontalLayout",$eHSB:"eui.HScrollBar",$eHS:"eui.HSlider",$eI:"eui.Image",$eL:"eui.Label",$eLs:"eui.List",$eP:"eui.Panel",$ePB:"eui.ProgressBar",$eRB:"eui.RadioButton",$eRBG:"eui.RadioButtonGroup",$eRa:"eui.Range",$eR:"eui.Rect",$eRAl:"eui.RowAlign",$eS:"eui.Scroller",$eT:"eui.TabBar",$eTI:"eui.TextInput",$eTL:"eui.TileLayout",$eTB:"eui.ToggleButton",$eTS:"eui.ToggleSwitch",$eVL:"eui.VerticalLayout",$eV:"eui.ViewStack",$eVSB:"eui.VScrollBar",$eVS:"eui.VSlider",$eSk:"eui.Skin"}}return e.prototype.setData=function(e){if(this.json){this.parseSkinMap(e);for(var t in e)this.json[t]=e[t]}else this.json=e,this.parseSkinMap(this.json)},e.prototype.generateSkinClass=function(e,t,i){function r(){n.call(this),window.JSONParseClass.create(t,this)}if(!e)return null;for(var s=i.split("."),n=window,o=0,a=s;o<a.length;o++){var u=a[o];n=n[u]}return __extends(r,n),__reflect(r,t,[i]),r},e.prototype.parseSkinMap=function(e){var t={};for(var i in e){var r=e[i];if(r){for(var s=i.split("."),n=window,o=0,a=s;o<a.length;o++){var u=a[o],l=n;u!==s[s.length-1]&&(n=n[u],void 0==n&&(n={},l[u]=n))}var c=void 0==this.euiNormalizeNames[r.$sC]?r.$sC:this.euiNormalizeNames[r.$sC];t[i]=n[s[s.length-1]]=this.generateSkinClass(r,i,c),e[i].$path&&(generateEUI2.paths[e[i].$path]=t[i])}}return t},e.prototype.create=function(e,t){return this.json?(this.target=t,this.skinName=e,this.skinClass=this.json[e],this.applyBase(),this.applySkinParts(),this.applyState(),this.applyBinding(),void(void 0==this.skinClass.$sP?this.target.skinParts=[]:this.target.skinParts=this.skinClass.$sP)):(console.log("Missing json defined by eui resource, please modify the theme adapter"),void console.log("缺少eui资源定义的json，请修改主题适配器"))},e.prototype.applySkinParts=function(){if(void 0!=this.skinClass.$sP)for(var e=0,t=this.skinClass.$sP;e<t.length;e++){var i=t[e];void 0==this.target[i]&&this.createElementContentOrViewport(i)}},e.prototype.applyBase=function(){void 0!=this.skinClass.$bs&&this.addCommonProperty("$bs",this.target)},e.prototype.createElementContentOrViewport=function(e){var t,i=this.getNormalizeEuiName(this.skinClass[e].$t);if("egret.tween.TweenGroup"==i)t=this.creatsEgretTweenGroup(e);else{var r=egret.getDefinitionByName(i);this.$createNewObject(function(){t=new r}),this.addCommonProperty(e,t)}return this.target[e]=t,t},e.prototype.$createNewObject=function(e){var t=this.skinName,i=this.target;e(),this.skinName=t,this.skinClass=this.json[this.skinName],this.target=i},e.prototype.creatsEgretTweenGroup=function(e){for(var t=this.createTypeObject(e),i=[],r=0,s=this.skinClass[e].items;r<s.length;r++){var n=s[r];i.push(this.createEgretTweenItem(n))}return t.items=i,t},e.prototype.createEgretTweenItem=function(e){var t=this,i=this.createTypeObject(e),r=[],s=function(s){var o=n.skinClass[e][s];if("$t"==s||"target"==s);else if("paths"==s)for(var a=0,u=o;a<u.length;a++){var l=u[a];r.push(n.createSetOrTo(l))}else"target"==s?n.$createNewObject(function(){i[s]=t.createElementContentOrViewport(o),t.target[o]=i[s]}):i[s]=o},n=this;for(var o in this.skinClass[e])s(o);return i.paths=r,this.target[e]=i,i},e.prototype.createSetOrTo=function(e){var t=this.createTypeObject(e);for(var i in this.skinClass[e]){var r=this.skinClass[e][i];"$t"==i||"target"==i||("props"==i?(t[i]=this.createObject(r),this.target[r]=t[i]):t[i]=r)}return t},e.prototype.createObject=function(e){var t={};for(var i in this.skinClass[e])"$t"==i||"target"==i||(t[i]=this.skinClass[e][i]);return t},e.prototype.addCommonProperty=function(e,t){var i,r,s=function(s){var o=n.skinClass[e][s];"$t"==s||("layout"==s?t[s]=n.createLayout(o):"$eleC"==s?i=o:"$sId"==s?r=o:"scale9Grid"==s?t[s]=n.getScale9Grid(o):"skinName"==s?n.$createNewObject(function(){t[s]=o}):"itemRendererSkinName"==s?n.$createNewObject(function(){for(var e=o.split("."),i=window,r=0,n=e;r<n.length;r++){var a=n[r];i=i[a]}t[s]=i}):"itemRenderer"==s?t[s]=egret.getDefinitionByName(o):"dataProvider"==s?t[s]=n.createDataProvider(o):"viewport"==s?t[s]=n.createElementContentOrViewport(o):t[s]=o)},n=this;for(var o in this.skinClass[e])s(o);var a=[];if(i&&i.length>0)for(var u=0,l=i;u<l.length;u++){var c=l[u],p=this.createElementContentOrViewport(c);a.push(p)}if(t.elementsContent=a,r&&r.length>0)for(var h=0,k=r;h<k.length;h++){var c=k[h];this.createElementContentOrViewport(c)}return t},e.prototype.createLayout=function(e){var t=this.createTypeObject(e),i=this.skinClass[e];for(var r in i)"$t"!==r&&(t[r]=i[r]);return this.target[e]=t,t},e.prototype.applyState=function(){if(void 0!=this.skinClass.$s){var e=[];for(var t in this.skinClass.$s){var i=[],r=this.skinClass.$s[t];if(r.$saI)for(var s=0,n=r.$saI;s<n.length;s++){var o=n[s];i.push(new eui.AddItems(o.target,o.property,o.position,o.relativeTo))}if(r.$ssP)for(var a=0,u=r.$ssP;a<u.length;a++){var o=u[a];if(o.name){var l=o.value;"scale9Grid"==o.name&&(l=this.getScale9Grid(o.value)),i.push(new eui.SetProperty(o.target,o.name,l))}else i.push(new eui.SetStateProperty(this.target,o.templates,o.chainIndex,this.target[o.target],o.property))}e.push(new eui.State(t,i))}this.target.states=e}},e.prototype.applyBinding=function(){if(void 0!=this.skinClass.$b)for(var e=0,t=this.skinClass.$b;e<t.length;e++){var i=t[e];void 0!==i.$bc?eui.Binding.$bindProperties(this.target,i.$bd,i.$bc,this.target[i.$bt],i.$bp):eui.Binding.bindProperty(this.target,i.$bd[0].split("."),this.target[i.$bt],i.$bp)}},e.prototype.createDataProvider=function(e){if(""!=e){for(var t=this.createTypeObject(e),i=[],r=0,s=this.skinClass[e].source;r<s.length;r++){var n=s[r];i.push(this.createItemRender(n))}return t.source=i,t}},e.prototype.createItemRender=function(e){var t=this.createTypeObject(e);for(var i in this.skinClass[e])"$t"!=i&&(t[i]=this.skinClass[e][i]);return t},e.prototype.getNormalizeEuiName=function(e){return this.euiNormalizeNames[e]?this.euiNormalizeNames[e]:e},e.prototype.createTypeObject=function(e){var t=this.getNormalizeEuiName(this.skinClass[e].$t),i=egret.getDefinitionByName(t);return new i},e.prototype.getScale9Grid=function(e){var t=e.split(",");return new egret.Rectangle(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]))},e}();window.JSONParseClass=new JSONParseClass,window.generateEUI2={},generateEUI2.paths={},generateEUI2.styles={1:{},2:{},3:{},4:{},5:{},6:{},7:{},8:{},9:{},10:{},11:{},12:{},13:{},14:{},15:{},16:{},17:{},18:{},19:{},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{},36:{},37:{},38:{},39:{},40:{},41:{},42:{},43:{},44:{},45:{},46:{},47:{},48:{},49:{}},generateEUI2.skins={"eui.Button":"resource/eui_skins/controls/ButtonSkin.exml","eui.CheckBox":"resource/eui_skins/controls/CheckBoxSkin.exml","eui.HScrollBar":"resource/eui_skins/controls/HScrollBarSkin.exml","eui.HSlider":"resource/eui_skins/controls/HSliderSkin.exml","eui.Panel":"resource/eui_skins/controls/PanelSkin.exml","eui.TextInput":"resource/eui_skins/controls/TextInputSkin.exml","eui.ProgressBar":"resource/eui_skins/controls/ProgressBarSkin.exml","eui.RadioButton":"resource/eui_skins/controls/RadioButtonSkin.exml","eui.Scroller":"resource/eui_skins/controls/ScrollerSkin.exml","eui.ToggleSwitch":"resource/eui_skins/controls/ToggleSwitchSkin.exml","eui.VScrollBar":"resource/eui_skins/controls/VScrollBarSkin.exml","eui.VSlider":"resource/eui_skins/controls/VSliderSkin.exml","eui.ItemRenderer":"resource/eui_skins/controls/ItemRendererSkin.exml",Button1Skin:"resource/eui_skins/controls/button/Button1Skin.exml",Button2Skin:"resource/eui_skins/controls/button/Button2Skin.exml",Button5Skin:"resource/eui_skins/controls/button/Button5Skin.exml",Button6Skin:"resource/eui_skins/controls/button/Button6Skin.exml",ButtonClose0Skin:"resource/eui_skins/controls/button/ButtonClose0Skin.exml",ButtonClose1Skin:"resource/eui_skins/controls/button/ButtonClose1Skin.exml",ButtonClose2Skin:"resource/eui_skins/controls/button/ButtonClose2Skin.exml",ButtonMenuSkin:"resource/eui_skins/controls/button/ButtonMenuSkin.exml"};